<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Library - BestieOS</title>
  <link href="https://fonts.googleapis.com/css2?family=Architects+Daughter&display=swap" rel="stylesheet" />
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background-color: #111;
      font-family: 'Architects Daughter', cursive;
      overflow: hidden;
    }

    h1 {
      color: #ffcc00;
      text-align: center;
      margin: 20px 0 10px;
    }

    .carousel-wrapper {
      position: relative;
      width: 100%;
      height: calc(100% - 140px); /* Leave space for button below */
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .carousel-track {
      display: flex;
      align-items: center;
      transition: transform 0.6s ease-in-out;
    }

    .slide {
      flex: 0 0 auto;
      margin: 0 10px;
      transition: all 0.5s ease-in-out;
      filter: blur(4px);
      transform: scale(0.85);
      opacity: 0.5;
    }

    .slide img {
      height: 60vh; /* Reduced height */
      border-radius: 16px;
      border: 3px solid #ffcc00;
      object-fit: cover;
      box-shadow: 0 0 6px #ffcc00;
    }

    .slide.active {
      transform: scale(1.1);
      filter: none;
      opacity: 1;
      z-index: 2;
    }

    .nav-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: #ffcc00;
      border: none;
      font-size: 30px;
      color: #111;
      width: 50px;
      height: 100px;
      cursor: pointer;
      z-index: 3;
    }

    .nav-btn.left {
      left: 0;
      border-radius: 0 50% 50% 0;
    }

    .nav-btn.right {
      right: 0;
      border-radius: 50% 0 0 50%;
    }

    .exit-wrapper {
      position: relative;
      margin-top: -20px; /* Bring it closer to carousel */
      text-align: center;
      z-index: 10;
    }

    .exit-wrapper button {
      background: #ffcc00;
      border: none;
      color: #111;
      font-size: 16px;
      padding: 10px 20px;
      border-radius: 30px;
      font-family: 'Architects Daughter', cursive;
      box-shadow: 0 0 6px #ffcc00;
      cursor: pointer;
    }

    @media (max-width: 768px) {
      .slide img {
        height: 45vh;
      }

      .slide.active {
        transform: scale(1);
      }

      .nav-btn {
        width: 40px;
        height: 80px;
      }
    }
  </style>
</head>
<body>
  <h1>ðŸ’› Our Shared Memories</h1>

  <div class="carousel-wrapper">
    <button class="nav-btn left" id="prevBtn">&#10094;</button>

    <div class="carousel-track" id="carouselTrack">
      <!-- Images will be dynamically added -->
    </div>

    <button class="nav-btn right" id="nextBtn">&#10095;</button>
  </div>

  <div class="exit-wrapper">
    <button onclick="exitGallery()">ðŸšª Exit to Desktop</button>
  </div>

  <script>
    const images = [
      "../assets/media/image1.png",
      "../assets/media/image2.png",
      "../assets/media/image3.png",
      "../assets/media/image4.png",
      "../assets/media/image5.png"
    ];

    const track = document.getElementById("carouselTrack");
    let index = 0;

    function renderSlides() {
      track.innerHTML = "";

      const total = images.length;
      const prev = (index - 1 + total) % total;
      const next = (index + 1) % total;

      [prev, index, next].forEach(i => {
        const div = document.createElement("div");
        div.className = "slide";
        if (i === index) div.classList.add("active");

        const img = document.createElement("img");
        img.src = images[i];
        img.alt = `Memory ${i + 1}`;

        div.appendChild(img);
        track.appendChild(div);
      });
    }

    document.getElementById("prevBtn").addEventListener("click", () => {
      index = (index - 1 + images.length) % images.length;
      renderSlides();
    });

    document.getElementById("nextBtn").addEventListener("click", () => {
      index = (index + 1) % images.length;
      renderSlides();
    });

    function autoSlide() {
      index = (index + 1) % images.length;
      renderSlides();
      setTimeout(autoSlide, 5000);
    }

    function exitGallery() {
      window.location.href = "../desktop.html"; // Replace with your actual desktop.html path
    }

    window.onload = () => {
      renderSlides();
      setTimeout(autoSlide, 5000);
    };
  </script>
</body>
</html>
